---
title: "API development"
format:
  html:
    code-fold: true
jupyter: python3
---

```{python}
import os
os.chdir("..")
```

```{python}
import geopandas as gpd
import ibis
from src.data.data_pull import DataPull

ibis.options.interactive = True
```

```{python}
DataPull()
```

```{python}
conn = ibis.sqlite.connect("db.sqlite")
gdf = gpd.read_file("data/external/cousub.zip")
gdf = gdf[["GEOID","NAME","geometry"]].rename(columns={"GEOID":"geoid", "NAME":"name"})
conn.insert("geotable",gdf)
```


